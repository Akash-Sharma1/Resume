(this["webpackJsonpcontest-arena"]=this["webpackJsonpcontest-arena"]||[]).push([[0],{10:function(e,t,a){},21:function(e,t,a){e.exports=a(48)},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),l=a.n(o),s=(a(26),a(1)),i=a(2),c=a(4),u=a(3),m=a(5),p=(a(27),a(8)),d=(a(28),a(29),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;if("problem"==this.props.itemtype)return r.a.createElement("tr",null,r.a.createElement("td",{width:"25%",align:"center"},r.a.createElement("a",{className:"underlineHover mp",onClick:this.props.PutProblemCode.bind(this,this.props.Problem)}," ",r.a.createElement("b",null,this.props.Problem.problemCode)," ")),r.a.createElement("td",{width:"25%",align:"center"},this.props.Problem.successfulSubmissions),r.a.createElement("td",{width:"25%",align:"center"},this.props.Problem.accuracy),r.a.createElement("td",{width:"25%",align:"center"},this.props.Problem.contestCode));if("activity"==this.props.itemtype)return r.a.createElement("tr",null,r.a.createElement("td",{type:"center",className:"mp"},this.props.Activity.problemCode),r.a.createElement("td",{type:"center",className:"mp"},this.props.Activity.username),r.a.createElement("td",{align:"center",type:"center",className:"mp"},this.props.Activity.result));if("board"==this.props.itemtype){if("undefined"!=typeof this.props.Board.problemScore)var t=this.props.Board.problemScore.map((function(e){return r.a.createElement("td",{type:"center",className:"mp"},r.a.createElement("b",null,r.a.createElement("span",{style:{color:"green"}},e.score)," /  ",r.a.createElement("span",{style:{color:"red"}},e.penalty)))}));return r.a.createElement("tr",null,r.a.createElement("td",{type:"center",className:"mp"},this.props.Board.rank),r.a.createElement("td",{type:"center",className:"mp"},this.props.Board.username),r.a.createElement("td",{type:"center",className:"mp"},this.props.Board.country),r.a.createElement("td",{type:"center",className:"mp"},this.props.Board.totalTime),r.a.createElement("td",{type:"center",className:"mp"},r.a.createElement("b",null,this.props.Board.totalScore)),r.a.createElement("td",{type:"center",className:"mp"},this.props.Board.penalty),t)}return"codes"==this.props.itemtype?r.a.createElement("div",{className:"mp",onMouseOut:this.props.changeblack.bind(this),onMouseOver:this.props.changeblue.bind(this),onClick:function(){return e.props.select_code(e.props.code)}},r.a.createElement("strong",null,this.props.code.substring(0,this.props.Length)),this.props.code.substring(this.props.Length,this.props.code.length),r.a.createElement("br",null)):void 0}}]),t}(n.Component)),h=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).validateContest=function(){if(1!=a.props.isloading_choosepage){var e=document.getElementById("codebox").value;if(""!=e){for(var t=0;t<a.props.ContestList.length;t++)if(e==a.props.ContestList[t].code||e==a.props.ContestList[t].name)return document.getElementById("codebox").removeEventListener("keydown",a.handleKeyDown),void a.props.PutContestCode(a.props.ContestList[t].code);document.getElementById("codebox").value="",document.getElementById("codebox").placeholder="Invalid code"}}},a.codeboxhandler=function(e){var t=e.target.value,n=[];if(""!=t)for(var r=0;r<a.props.ContestList.length;r++)a.props.ContestList[r].code.substring(0,t.length).toUpperCase()==t.toUpperCase()?n.push(a.props.ContestList[r].code):a.props.ContestList[r].name.substring(0,t.length).toUpperCase()==t.toUpperCase()&&n.push(a.props.ContestList[r].name);a.setState({Length:e.target.value.length}),a.setState({List:n})},a.select_code=function(e){document.getElementById("codebox").value=e,a.setState({List:[]})},a.changeblue=function(e){e.target.style.color="#5fbae9"},a.changeblack=function(e){e.target.style.color="black"},a.handleKeyDown=function(e){switch(e.keyCode){case 13:a.setState({option:-1}),e.preventDefault(),a.validateContest();break;case 38:a.setState({option:a.max(-1,a.state.option-1)},(function(){-1==a.state.option?document.getElementById("codebox").value=" ":a.state.List.length>a.state.option&&(document.getElementById("codebox").value=a.state.List[a.state.option])}));break;case 40:a.setState({option:a.min(a.state.option+1,a.state.List.length-1)},(function(){a.state.List.length>a.state.option&&(document.getElementById("codebox").value=a.state.List[a.state.option])}));break;default:a.setState({option:-1})}},a.max=function(e,t){return e>t?e:t},a.min=function(e,t){return e<t?e:t},a.state={option:-1,List:[],Length:0,allcontest:[]},a.select_code=a.select_code.bind(Object(p.a)(a)),a.validateContest=a.validateContest.bind(Object(p.a)(a)),a.handleKeyDown=a.handleKeyDown.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;if(1==this.props.isloading_choosepage||this.props.isloading_ip)var t=r.a.createElement("input",{type:"button",id:"submitbtn",className:"fadeIn fourth",value:"Loading..",style:{background:"#f4f4f4",color:"#000000"}});else{t=r.a.createElement("input",{type:"button",id:"submitbtn",onClick:function(){return e.validateContest()},className:"fadeIn fourth",value:"Submit"});var a=this.state.List.map(function(e){return r.a.createElement(d,{changeblue:this.changeblue,changeblack:this.changeblack,Length:this.state.Length,select_code:this.select_code,code:e,itemtype:"codes"})}.bind(this))}return r.a.createElement("div",null,r.a.createElement("div",{className:"wrapper fadeInDown"},r.a.createElement("div",{id:"formContent"},r.a.createElement("div",{className:"fadeIn first"},r.a.createElement("div",{className:"mp"},r.a.createElement("h1",null,r.a.createElement("b",null,"Contest Arena"))),r.a.createElement("form",null,r.a.createElement("input",{autoComplete:"off",type:"text",id:"codebox",className:"fadeIn second",placeholder:"Contest Code/Name",onChange:this.codeboxhandler}),t,r.a.createElement("br",null),r.a.createElement("div",{type:"maxx"},a))))))}},{key:"componentDidMount",value:function(){document.getElementById("codebox").addEventListener("keydown",this.handleKeyDown)}}]),t}(n.Component),g=(a(10),a(6)),b=a.n(g),C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={Activity:[{problemCode:"Loading",username:"Loading",result:"Loading"}]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;if("ContestPage"==this.props.PageType){var t=this.props.Url+"?func=Get_contest_submissions&contest="+this.props.Contest+"&ip="+this.props.ip;console.log(t),b.a.get(t).then((function(e){return e.data})).then((function(t){console.log(t),e.props.doCheck(t)||(t=t.result.data.content,e.setState({Activity:t}))}))}else if("ProblemPage"==this.props.PageType){t=this.props.Url+"?func=Get_contest_submissions&problem="+this.props.Problem+"&ip="+this.props.ip;console.log(t),b.a.get(t).then((function(e){return e.data})).then((function(t){console.log(t),e.props.doCheck(t)||(t=t.result.data.content,e.setState({Activity:t}))}))}}},{key:"render",value:function(){var e=this.state.Activity.map((function(e){return r.a.createElement(d,{Activity:e,itemtype:"activity"})}));return r.a.createElement("div",{style:{overflow:"auto",maxHeight:"470px",maxWidth:"500px"}},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Problem Code"),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Verdict")),e)))}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).start_timer=function(){var e=a.props.starttime,t=a.props.endtime;(new Date).getDate(),(new Date).getHours(),(new Date).getMinutes(),(new Date).getSeconds();console.log(e),console.log(t);var n=new Date(t),r=new Date(e);console.log(n),console.log(r);var o=new Date;r>o?(document.getElementById("Toshow").innerHTML="Will Start in",n=r):n<o&&(document.getElementById("Toshow").innerHTML="Contest Finished"),a.timing=setInterval((function(){var e=(new Date).getTime(),t=n-e,a=Math.floor(t/864e5);a<10&&(a="0"+a);var r=Math.floor(t%864e5/36e5);r<10&&(r="0"+r);var o=Math.floor(t%36e5/6e4);o<10&&(o="0"+o);var l=Math.floor(t%6e4/1e3);l<10&&(l="0"+l),document.getElementById("Countdown").innerHTML="<b>"+a+"</b>d<b> "+r+"</b>h<b> "+o+"</b>m<b> "+l+"</b>s",console.log(t),t<=0&&(clearInterval(this.timing),document.getElementById("Toshow").innerHTML="Contest Finished",document.getElementById("Countdown").innerHTML="<b>It's over</b>")}),1e3)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.start_timer()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timing)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("th",{type:"center",id:"Toshow"},"Time left")),r.a.createElement("tr",null,r.a.createElement("td",{type:"center",className:"mp",id:"Countdown"})))}}]),t}(n.PureComponent),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).PutProblemCode=a.PutProblemCode.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"PutProblemCode",value:function(e){new Date(this.Contest.startDate),new Date(this.Contest.endDate),new Date;this.props.PutProblemCode(e)}},{key:"render",value:function(){if(0==this.props.isloading_contest)if(1==this.props.Contest.isParent)var e=r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement(f,{starttime:this.props.Contest.startDate,endtime:this.props.Contest.endDate}))),t=r.a.createElement("table",{align:"left"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{align:"center",className:"mp",width:"70%"}," Contest Divsions "),r.a.createElement("th",{align:"center",className:"mp",width:"30%"}," Contest Codes ")),r.a.createElement("tr",null,r.a.createElement("td",null,"Division 1"),r.a.createElement("td",null,r.a.createElement("a",{className:"underlineHover mp",onClick:this.props.PutContestCode.bind(this,this.props.Contest.children[0])},this.props.Contest.children[0]))),r.a.createElement("tr",null,r.a.createElement("td",null,"Division 2"),r.a.createElement("td",null,r.a.createElement("a",{className:"underlineHover mp",onClick:this.props.PutContestCode.bind(this,this.props.Contest.children[1])},this.props.Contest.children[1])))));else{var a=this.props.Contest.problemsList.map(function(e){var t=this;return r.a.createElement(d,{key:e.problemCode,PutProblemCode:function(e){t.props.PutProblemCode(e)},Problem:e,itemtype:"problem"})}.bind(this));t=r.a.createElement("table",{align:"left"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{align:"center",width:"30%",className:"mp"}," Problem Code "),r.a.createElement("th",{align:"center",width:"25%",className:"mp"}," Successful Submissions "),r.a.createElement("th",{align:"center",width:"25%",className:"mp"}," Accuracy "),r.a.createElement("th",{align:"center",width:"30%",className:"mp"}," Contest Code ")),a)),e=r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement(f,{starttime:this.props.Contest.startDate,endtime:this.props.Contest.endDate}),r.a.createElement("tr",null,r.a.createElement("td",null)),r.a.createElement("tr",null,r.a.createElement("th",{type:"center",className:"mp"}," Recent Activity ")),r.a.createElement("tr",null,r.a.createElement("td",{className:"fortable"},r.a.createElement(C,{doCheck:this.props.doCheck,Url:this.props.Url,ip:this.props.ip,Contest:this.props.Contest.code,PageType:"ContestPage"})))))}if(0==this.props.isloading_contest)var n=r.a.createElement("h1",{className:"mp",align:"center"},"Contest Dashboard: ",this.props.Contest.name," (",this.props.Contest.code,")");else n=r.a.createElement("h1",{className:"mp",align:"center"},"Contest Dashboard: Loading....");return r.a.createElement("div",{className:"wrappercp fadeInDown makefull"},r.a.createElement("div",{id:"cpagecontent"},r.a.createElement("div",{className:"fadeIn second",type:"blue"},n),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{width:"75%"},t),r.a.createElement("td",null,e))))))}}]),t}(n.Component),v=(a(47),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){if(this.props.isloginOK)var e=r.a.createElement("a",{className:"underlineHovernav  navbar-right",type:"nav",onClick:this.props.Logout},"Logout"),t=r.a.createElement("a",{className:"navbar-right",type:"nav"},"Hello ",this.props.username," ");else if(1==this.props.isloading_ip)t=r.a.createElement("a",{className:"underlineHovernav  navbar-right",type:"nav"},"Loading..");else t=r.a.createElement("a",{className:"underlineHovernav  navbar-right",type:"nav",onClick:this.props.oauth.bind(this)},"Login");if("undefined"!=typeof this.props.Contest.code){var a=r.a.createElement("a",{className:"underlineHovernav  navbar-left",type:"nav",onClick:this.props.ChangePage.bind(this,"ContestPage")},"Contest-Dashboard: ",this.props.Contest.code);if("undefined"!=typeof this.props.Contest.problemsList&&this.props.Contest.problemsList.length>0)var n=r.a.createElement("a",{className:"underlineHovernav  navbar-left",type:"nav",onClick:this.props.ChangePage.bind(this,"LeaderBoardPage")},"Leaderboard")}if("undefined"!=typeof this.props.Problem.problemCode)var o=r.a.createElement("a",{className:"underlineHovernav  navbar-left",type:"nav",onClick:this.props.ChangePage.bind(this,"ProblemPage")},"Problem-Dashboard: ",this.props.Problem.problemCode);if(this.props.isFirst>1)var l=r.a.createElement("a",{className:"underlineHovernav navbar-left",type:"nav",onClick:this.props.Back.bind(this)},"Back"),s=r.a.createElement("a",{className:"underlineHovernav navbar-left",type:"nav",onClick:this.props.ChangePage.bind(this,"ChooseContestPage")},"Homepage");else l=r.a.createElement("a",{className:"navbar-left",type:"deactivate"},"Back"),s=r.a.createElement("a",{className:"navbar-left",type:"deactivate"},"Homepage");return r.a.createElement("div",null,r.a.createElement("div",{className:"navbar"},l,s,t,e,a,o,n))}}]),t}(n.Component)),P=function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){if(0==this.props.isloading_problem)var e=this.props.Problem.languagesSupported.map(function(e,t){return t==this.props.Problem.languagesSupported.length-1?e+"\n":t%4!=0?e+", ":e+"\n"}.bind(this)),t=r.a.createElement("center",null,r.a.createElement("a",{onClick:this.props.ChangePage.bind(this,"SubmitPage")},r.a.createElement("div",{type:"buttongreen"},r.a.createElement("b",null,"Submit")))),a=r.a.createElement("center",null,r.a.createElement("a",{onClick:this.props.ChangePage.bind(this,"SubmitPage"),width:"100%"},r.a.createElement("div",{type:"buttongreensidepane",width:"100%"},r.a.createElement("b",null,"Submit"))));if(0==this.props.isloading_problem)var n=r.a.createElement(f,{starttime:this.props.Contest.startDate,endtime:this.props.Contest.endDate}),o=r.a.createElement(C,{doCheck:this.props.doCheck,Url:this.props.Url,ip:this.props.ip,Contest:this.props.ContestCode,Problem:this.props.Problem.problemCode,PageType:"ProblemPage"}),l=r.a.createElement("h1",{className:"mp",align:"center"},"Problem Dashboard: ",this.props.Problem.problemName," (",this.props.Problem.problemCode,")");else l=r.a.createElement("h1",{className:"mp",align:"center"},"Problem Dashboard: Loading....");return r.a.createElement("div",{className:"wrappercp fadeInDown makefull"},r.a.createElement("div",{id:"cpagecontent"},r.a.createElement("div",{className:"fadeIn second",type:"blue"},l),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{width:"75%"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{align:"center",className:"mp",width:"70%"},"Problem Description")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{type:"ppage",dangerouslySetInnerHTML:{__html:this.props.Problem.body}}))),r.a.createElement("tr",null,r.a.createElement("td",null)))),t),r.a.createElement("td",null,r.a.createElement("table",null,r.a.createElement("tbody",null,n,r.a.createElement("tr",null,r.a.createElement("td",null,a)),r.a.createElement("tr",null,r.a.createElement("th",{type:"center",className:"mp"}," Recent Activity ")),r.a.createElement("tr",null,r.a.createElement("td",{className:"fortable"},o)))))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",null,r.a.createElement("b",null,"Author: ")," ",this.props.Problem.author," ",r.a.createElement("br",null),r.a.createElement("b",null,"Challenge type: ")," ",this.props.Problem.challengeType," ",r.a.createElement("br",null),r.a.createElement("b",null,"Max time limit: ")," ",this.props.Problem.maxTimeLimit," ",r.a.createElement("br",null),r.a.createElement("b",null,"Successful submissions: ")," ",this.props.Problem.successfulSubmissions," ",r.a.createElement("br",null),r.a.createElement("b",null,"Total submissions: ")," ",this.props.Problem.totalSubmissions," ",r.a.createElement("br",null),r.a.createElement("b",null,"Partial submissions: ")," ",this.props.Problem.partialSubmissions," ",r.a.createElement("br",null),r.a.createElement("b",null,"Source size limit: ")," ",this.props.Problem.sourceSizeLimit," ",r.a.createElement("br",null),r.a.createElement("b",null,"Languages Supported: ",r.a.createElement("br",null)),e,r.a.createElement("br",null))))))))}}]),t}(n.Component),y=a(9),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getstatus=function(e){var t=a.props.Url+"?func=get_status&link="+e+"&ip="+a.props.ip;b.a.get(t).then((function(e){return e.data})).then((function(e){if(console.log(e),"undefined"==typeof e.result.status){a.setState({isloading:!1,data:e.result.data});var t="output: "+(e=e.result.data).output+"\nCompilation info: "+e.cmpinfo+"\nStd err: "+e.stderr+"\n";console.log(e),document.getElementById("out").value=t}else a.setState({isloading:!1,error:e.result.data.message})}))},a.runcode=function(){a.setState({isloading:!0});var e=new FormData;e={sourceCode:document.getElementById("sc").value,language:a.props.Problem.languagesSupported[document.getElementById("sel").selectedIndex],input:document.getElementById("input").value},console.log(e),b.a.post(a.props.Url+"?func=runcode&ip="+a.props.ip,e).then((function(e){console.log(e),a.getstatus(e.data.result.data.link)}),(function(e){console.log(e)}))},a.state={isloading:!1,data:{},error:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.Problem.languagesSupported.map((function(e){return r.a.createElement("option",null,e)}));if(1==this.state.isloading)var n=r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{id:"sel"},a,"  "),"    ",r.a.createElement("a",null,r.a.createElement("div",{type:"buttongreen",disabled:!0},r.a.createElement("b",null,"Submit"))),"             ",r.a.createElement("a",null,r.a.createElement("div",{type:"buttongreen",onClick:function(){t.runcode()},disabled:!0},r.a.createElement("b",null,"Loading..")))),r.a.createElement("td",null,r.a.createElement("textarea",{wrap:"off",id:"out",cols:"60",rows:"5",disabled:!0,placeholder:"Loading..\\n Please Wait"})));else n=r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{id:"sel"},a,"  "),"          ",r.a.createElement("a",null,r.a.createElement("div",{type:"buttongreen"},r.a.createElement("b",null,"Submit"))),"    ",r.a.createElement("a",null,r.a.createElement("div",{type:"buttongreen",onClick:function(){t.runcode()}},r.a.createElement("b",null,"Run Code")))),r.a.createElement("td",null,r.a.createElement("textarea",{wrap:"off",id:"out",cols:"60",rows:"5",disabled:!0,placeholder:"Sample output"}),"  ",r.a.createElement("span",{style:{color:"red"}},r.a.createElement("b",null,this.state.error))));return r.a.createElement("div",{className:"wrappercp fadeInDown makefull"},r.a.createElement("div",{id:"cpagecontent"},r.a.createElement("div",{className:"fadeIn second",type:"blue"},r.a.createElement("h1",{className:"mp"},"Submit: ",this.props.Problem.problemName," : ",this.props.Problem.problemCode," ")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{width:"80%"}," ",r.a.createElement("textarea",{id:"sc",wrap:"off",cols:"115",rows:"15",placeholder:"Place your code in here"})),r.a.createElement("td",null," ",r.a.createElement("textarea",(e={wrap:"off",id:"ins"},Object(y.a)(e,"id","input"),Object(y.a)(e,"cols","60"),Object(y.a)(e,"rows","15"),Object(y.a)(e,"placeholder","Custom test cases"),e)))),n)))))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).loadpage=function(){var e=a.props.Url+"?func=Get_rankings&ip="+a.props.ip;e=(e=(e=(e=(e=e+"&code="+a.props.ContestCode)+"&user="+a.state.seluser)+"&ins="+a.state.selins)+"&country="+a.state.selcoun)+"&offset="+20*a.state.page,e+="&limit=20",console.log(e),a.setState({isloading_leaderboard:!0}),b.a.get(e).then((function(e){return e.data})).then((function(e){console.log(e),a.props.doCheck(e)||(e=(e=(e=e.result.data).content).map((function(e){for(;e.problemScore.length<a.props.problemsList.length;)e.problemScore.push({score:"-",penalty:"-"});return e})),a.setState({Board:e}),a.setState({isloading_leaderboard:!1}))})).catch((function(e){return console.log("leaderboard Axios err: ",e)}))},a.state={isloading_leaderboard:!0,Board:[{problemScore:[]}],page:1,myrank:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.loadpage()}},{key:"render",value:function(){if(0==this.state.isloading_leaderboard){if(this.state.Board.length>0)var e=this.state.Board.map((function(e){return r.a.createElement(d,{Board:e,itemtype:"board"})}));var t=r.a.createElement("h1",{className:"mp",align:"left"},"LeaderBoard: ",this.props.ContestCode,r.a.createElement("span",{style:{align:"right"}},this.state.myrank.username,": ",this.state.myrank.rank))}else t=r.a.createElement("h1",{className:"mp",align:"left"},"LeaderBoard: Loading ");var a=this.props.problemsList.map((function(e){return r.a.createElement("th",{type:"center",className:"mp"},e.problemCode)}));return r.a.createElement("div",{className:"wrappercp fadeInDown makefull"},r.a.createElement("div",{id:"cpagecontent"},r.a.createElement("div",{className:"fadeIn second",type:"bluefull"},t),r.a.createElement("br",null),r.a.createElement("div",null),r.a.createElement("br",null),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{type:"center",className:"mp"},"Rank"),r.a.createElement("th",{type:"center",className:"mp"},"Username"),r.a.createElement("th",{type:"center",className:"mp"},"Country"),r.a.createElement("th",{type:"center",className:"mp"},"Total Time"),r.a.createElement("th",{type:"center",className:"mp"},"Total Score"),r.a.createElement("th",{type:"center",className:"mp"},"Penalty"),a),e))))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).Back=function(){var e=[];if(1!=(e=a.state.Pages.PStack).length){var t=(e=e.slice(0,e.length-1))[e.length-1];a.setState({Pages:{CurrPage:t.Page,PStack:e}}),a.setState({CurrContest:t.CurrContest,CurrProblem:t.CurrProblem})}},a.Login=function(e){if(1!=a.state.isloading_loginpage){a.setState({isloading_loginpage:!0});var t=a.state.Url+"/?login_req=true&func=Search_User&username="+e;console.log(t),b.a.get(t).then((function(e){return e.data})).then((function(t){if(console.log(t),9001!=t.result.data.code)return alert("Invalid Credentials: "+e),void a.setState({isloading_loginpage:!1});a.setState({Creds:{username:t.result.data.content.username,isloginOK:!0}}),a.setState({isloading_loginpage:!1}),a.make_request(a.state.dataUrl,"?func=savenewuser&user="+t.result.data.content.username),a.Back()})).catch((function(e){return console.log("login err: ",e)}))}},a.Logout=function(){a.make_request(a.state.dataUrl,"?func=logout&ip="+a.state.ip),a.setState({Creds:{username:"",isloginOK:!1}})},a.ChangePage=function(e){var t=[],n=(t=a.state.Pages.PStack)[t.length-1];n.Page==e&&n.CurrContest==a.state.CurrContest&&n.CurrProblem==a.state.CurrProblem||(t.push({Page:e,CurrContest:a.state.CurrContest,CurrProblem:a.state.CurrProblem}),console.log(t),a.setState({Pages:{CurrPage:e,PStack:t}}))},a.update_pagelog=function(){var e=[];(e=a.state.Pages.PStack)[e.length-1].CurrContest=a.state.CurrContest,e[e.length-1].CurrProblem=a.state.CurrProblem,a.setState({Pages:{CurrPage:a.state.Pages.CurrPage,PStack:e}})},a.PutContestCode=function(e){a.loadcontest(e),a.setState({CurrContest:e},(function(){return a.ChangePage("ContestPage")}))},a.PutProblemCode=function(e){a.loadproblem(e),a.ChangePage("ProblemPage")},a.LoadPage=function(){return"ContestPage"==a.state.Pages.CurrPage?r.a.createElement(E,{doCheck:a.doCheck,ip:a.state.ip,Url:a.state.Url,isloading_contest:a.state.isloading_contest,Contest:a.state.CurrContest,PutContestCode:a.PutContestCode,PutProblemCode:function(e){return a.PutProblemCode(e)}}):"ChooseContestPage"==a.state.Pages.CurrPage?r.a.createElement(h,{isloading_choosepage:a.state.isloading_choosepage,isloading_ip:a.state.isloading_ip,ContestList:a.state.ContestList,PutContestCode:a.PutContestCode}):"ProblemPage"==a.state.Pages.CurrPage?r.a.createElement(P,{doCheck:a.doCheck,ip:a.state.ip,Url:a.state.Url,isloading_problem:a.state.isloading_problem,ChangePage:a.ChangePage,Problem:a.state.CurrProblem,Contest:a.state.CurrContest,ContestCode:a.state.CurrContest.Code}):"SubmitPage"==a.state.Pages.CurrPage?r.a.createElement(k,{doCheck:a.doCheck,ip:a.state.ip,Url:a.state.Url,ChangePage:a.ChangePage,Problem:a.state.CurrProblem,ContestCode:a.state.CurrContest.code}):"LeaderBoardPage"==a.state.Pages.CurrPage?r.a.createElement(S,{ip:a.state.ip,doCheck:a.doCheck,problemsList:a.state.CurrContest.problemsList,Url:a.state.Url,username:a.state.Creds.username,ContestCode:a.state.CurrContest.code}):void 0},a.reuseuser=function(e){var t=a.state.Url+"?func=Get_my_username&ip="+e;console.log(t),b.a.get(t).then((function(e){return e.data})).then((function(n){console.log(n);var r="";a.doCheck(n)||(a.getContestList(e),r="undefined"!=typeof n.username?n.username:n.result.data.content.username,t=a.state.dataUrl+"?func=savenewuser&user="+r+"&ip="+e,console.log(t),b.a.get(t),t=a.state.dataUrl+"?func=logout_from_other_sessions&user="+r+"&ip="+e,console.log(t),b.a.get(t),a.setState({Creds:{username:r,isloginOK:!0}}))})).catch((function(e){return console.log("checkuser err: ",e)}))},a.oauth=function(){window.location.href="http://localhost:8080"},a.doCheck=function(e){return"FORBIDDEN"==e.status?(alert("Access Forbidden"),a.Back(),1==a.state.CurrContest.isParent&&a.Back(),!0):"undefined"!=typeof e.code?(a.state.Pages.PStack.length>1?alert(e.code):(a.Logout(),a.oauth()),a.Back(),!0):"undefined"!=typeof e.result&&"undefined"!=typeof e.result.errors?(alert(e.result.errors[0].message),"unauthorized"==e.result.errors[0].code?(a.oauth(),!0):(a.Back(),!0)):"undefined"!=typeof e.result&&9001!=e.result.data.code?(alert(e.result.data.message),a.Back(),!0):"undefined"!=typeof e.result&&"unauthorized"==e.result.data.code&&(a.Logout(),a.oauth(),!0)},a.getContestList=function(e){a.setState({isloading_choosepage:!0});var t=a.state.Url+"?func=List_contest&ip="+e;console.log(t),b.a.get(t).then((function(e){return e.data})).then((function(e){console.log(e),a.doCheck(e)||(e=e.result.data,console.log(e.content.contestList[0]),a.setState({ContestList:e.content.contestList}),a.setState({isloading_choosepage:!1}))})).catch((function(e){return console.log("contestlist err: ",e)}))},a.loadcontest=function(e){a.setState({isloading_contest:!0,CurrProblem:{}});var t=a.state.Url+"?func=Get_Contest&code="+e+"&ip="+a.state.ip;console.log(t),b.a.get(t).then((function(e){return e.data})).then((function(e){console.log(e),a.doCheck(e)||(e=e.result.data,a.setState({CurrContest:e.content}),a.setState({isloading_contest:!1}),a.update_pagelog())})).catch((function(e){return console.log("contest Axios err: ",e)}))},a.loadproblem=function(e){a.setState({isloading_problem:!0}),console.log(e);var t=a.state.Url+"?ip="+a.state.ip+"&func=Get_Problem&contestcode="+e.contestCode+"&pcode="+e.problemCode;console.log(t),b.a.get(t).then((function(e){return e.data})).then((function(e){if(console.log(e),!a.doCheck(e)){if(9001!=e.result.data.code)return alert(e.result.data.message),void a.Back();e=e.result.data,a.setState({CurrProblem:e.content}),a.setState({isloading_problem:!1}),a.update_pagelog()}}))},a.get_ip=function(){a.setState({isloading_ip:!0}),b.a.get("https://www.cloudflare.com/cdn-cgi/trace").then((function(e){return e.data})).then((function(e){console.log(e);for(var t=0,n="",r=0;r<e.length;r++)"\n"!=e[r]?2==t&&(n+=e[r]):t+=1;n=n.substring(3,n.length),console.log(n),a.setState({ip:n}),a.setState({isloading_ip:!1});var o=a.getUrlVars("t","empty"),l=o.t,s=o.r;if(console.log(l),console.log(s),""!=l){var i=a.state.dataUrl+"?ip="+n+"&func=savecreds&token="+l+"&refresh="+s;console.log(i),b.a.get(i).then((function(e){return e.data})),window.location.href="http://localhost:3000/"}a.reuseuser(n)})).catch((function(e){return console.log("ip Axios err: ",e)}))},a.getUrlVars=function(){for(var e=0,t=window.location.href,a=0;a<t.length;a++)if("/"==t[a]&&3==(e+=1)){t=t.substring(a+1,t.length);break}var n="",r="";if(t.length>0)for(a=0;a<t.length;a++)if("&"==t[a]){n=t.substring(2,a),r=t.substring(a+3,t.length);break}return{t:n,r:r}},a.state={Url:"http://localhost:8080/CodechefAcess.php",dataUrl:"http://localhost:8080/database.php",Creds:{username:"",isloginOK:!1},ip:"",ContestList:[],Pages:{PStack:[{Page:"SubmitPage",CurrProblem:{},CurrContest:{}}],CurrPage:"SubmitPage"},CurrProblem:{problemCode:"CHCBOX",languagesSupported:["C++ 6.3"]},CurrContest:{},isloading_loginpage:!1,isloading_contest:!1,isloading_choosepage:!1,isloading_contestpage:!1,isloading_problem:!1,isloading_ip:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"make_request",value:function(e,t){var a=e+t;console.log(a),b.a.get(a).then((function(e){return e.data})).then((function(e){})).catch((function(e){return console.log("Axios err: ",e)}))}},{key:"render",value:function(){var e=this.LoadPage();return r.a.createElement("div",{className:"App",id:"Main"},r.a.createElement(v,{username:this.state.Creds.username,isloginOK:this.state.Creds.isloginOK,Logout:this.Logout,Back:this.Back,isloading_ip:this.isloading_ip,isFirst:this.state.Pages.PStack.length,Problem:this.state.CurrProblem,Contest:this.state.CurrContest,oauth:this.oauth,ChangePage:this.ChangePage}),e)}},{key:"componentDidMount",value:function(){this.get_ip()}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.4c64947b.chunk.js.map